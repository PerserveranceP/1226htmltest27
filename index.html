<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hidden Dungeon</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />
    <style>
        body, html { margin: 0; padding: 0; width: 100%; height: 100%; background: #000; overflow: hidden; }
        .swiper { width: 100%; height: 100vh; }

        .swiper-slide {
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #000;
            background-size: cover;    /* ë°°ê²½ ê½‰ ì°¨ê²Œ */
            background-position: center;
            position: relative;
        }

        /* ë‘ ë²ˆì§¸ ìŠ¬ë¼ì´ë“œ ì „ìš© ëŒ€ê¸° ë°°ê²½ ì´ë¯¸ì§€ */
        .slide-waiting {
            /* ìŠ¤í”¼ë„ˆê°€ ëŒ ë•Œ ë³´ì—¬ì¤„ ë°°ê²½ ì‚¬ì§„ì„ ì—¬ê¸°ì— ë„£ìœ¼ì„¸ìš” */
            background-image: url('inter.jpg'); 
        }

        .swiper-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            user-select: none;
            -webkit-user-drag: none;
            opacity: 0; 
            transition: opacity 1s ease;
            position: absolute;
            top: 0; left: 0;
            z-index: 1; /* í…ìŠ¤íŠ¸ì™€ ìŠ¤í”¼ë„ˆë³´ë‹¤ ì•„ë˜ */
        }

        .swiper-slide:first-child img {
            opacity: 1;
        }

        /* ë¡œë”© ìŠ¤í”¼ë„ˆ */
        .spinner {
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-top: 4px solid #fff;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            position: absolute;
            z-index: 3; /* ê°€ì¥ ìœ„ */
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* ì•ˆë‚´ ë¬¸êµ¬ */
        .guide-text {
            position: absolute;
            bottom: 15%;
            color: white;
            z-index: 10; /* ì´ë¯¸ì§€ë³´ë‹¤ ìœ„ */
            font-family: sans-serif;
            background: rgba(0,0,0,0.6); /* ê°€ë…ì„±ì„ ìœ„í•´ ì‚´ì§ ë” ì–´ë‘¡ê²Œ */
            padding: 10px 20px;
            border-radius: 30px;
            pointer-events: none;
            text-align: center;
            opacity: 1; /* ê¸°ë³¸ì ìœ¼ë¡œ ë³´ì´ê²Œ */
            transition: opacity 0.5s ease;
        }
    </style>
</head>
<body>

    <div class="swiper">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <img src="1.jpg" alt="Image 1">
                <div class="guide-text">ë„˜ê²¨ì„œ ê¸¸ í™•ì¸í•˜ê¸° ğŸ‘‰</div>
                <div class="spinner"></div> 
            </div>

            <div class="swiper-slide slide-waiting">
                <img src="3.jpg" alt="Image 2">
                <div class="guide-text" id="waiting-msg">ê¸¸ì„ ì°¾ëŠ” ì¤‘...</div>
                <div class="spinner"></div> 
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>
    <script>
        const swiper = new Swiper('.swiper', {
            loop: false,
            grabCursor: true, 
            mousewheel: true,
            speed: 500,
            on: {
                slideChangeTransitionStart: function () {
                    const allImages = document.querySelectorAll('.swiper-slide img');
                    allImages.forEach((img) => {
                        img.style.opacity = '0';
                    });
                    
                    const allSpinners = document.querySelectorAll('.spinner');
                    allSpinners.forEach(s => s.style.opacity = '0');

                    // ë‹¤ì‹œ ì²« ë²ˆì§¸ë¡œ ëŒì•„ì˜¤ë©´ ë©”ì‹œì§€ ì´ˆê¸°í™” ë“±ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                },
                slideChangeTransitionEnd: function () {
                    const activeIndex = this.activeIndex;
                    const activeSlide = this.slides[activeIndex];
                    const img = activeSlide.querySelector('img');
                    const spinner = activeSlide.querySelector('.spinner');
                    const msg = activeSlide.querySelector('.guide-text');

                    if (activeIndex === 0) {
                        img.style.opacity = '1';
                        return;
                    }

                    // 2ë²ˆ ìŠ¬ë¼ì´ë“œ ì§„ì… ì‹œ
                    if (spinner) spinner.style.opacity = '1';
                    if (msg) msg.style.opacity = '1'; // ë©”ì‹œì§€ ë³´ì´ê²Œ ìœ ì§€

                    setTimeout(() => {
                        if (img) img.style.opacity = '1';     // ì‹¤ì œ ì´ë¯¸ì§€ ë“±ì¥
                        if (spinner) spinner.style.opacity = '0'; // ìŠ¤í”¼ë„ˆ ì‚¬ë¼ì§
                        
                        // ì´ë¯¸ì§€ê°€ ë–´ì„ ë•Œ ë©”ì‹œì§€ë„ ê°™ì´ ì§€ìš°ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ ì£¼ì„ í•´ì œ
                        if (msg) msg.style.opacity = '0'; 
                    }, 3000);
                }
            }
        });
    </script>
</body>
</html>

